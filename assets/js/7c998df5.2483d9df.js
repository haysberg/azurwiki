"use strict";(self.webpackChunkcaspardb=self.webpackChunkcaspardb||[]).push([[884],{3905:(e,r,t)=>{t.d(r,{Zo:()=>c,kt:()=>v});var n=t(7294);function o(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){o(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var u=n.createContext({}),l=function(e){var r=n.useContext(u),t=r;return e&&(t="function"==typeof e?e(r):i(i({},r),e)),t},c=function(e){var r=l(e.components);return n.createElement(u.Provider,{value:r},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},d=n.forwardRef((function(e,r){var t=e.components,o=e.mdxType,a=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=l(t),d=o,v=p["".concat(u,".").concat(d)]||p[d]||m[d]||a;return t?n.createElement(v,i(i({ref:r},c),{},{components:t})):n.createElement(v,i({ref:r},c))}));function v(e,r){var t=arguments,o=r&&r.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=d;var s={};for(var u in r)hasOwnProperty.call(r,u)&&(s[u]=r[u]);s.originalType=e,s[p]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=t[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},3916:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>u,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var n=t(7462),o=(t(7294),t(3905));const a={title:"D\xe9ployer un serveur Minecraft",sidebar_label:"Serveur Minecraft",pagination_label:"D\xe9ployer un serveur Minecraft",description:"Comment d\xe9ployer un serveur Minecraft avec Docker pour jouer avec ses potes ?",keywords:["docs"]},i=void 0,s={unversionedId:"deploiement/minecraft",id:"deploiement/minecraft",title:"D\xe9ployer un serveur Minecraft",description:"Comment d\xe9ployer un serveur Minecraft avec Docker pour jouer avec ses potes ?",source:"@site/docs/50-deploiement/02-minecraft.md",sourceDirName:"50-deploiement",slug:"/deploiement/minecraft",permalink:"/azurwiki/deploiement/minecraft",draft:!1,editUrl:"https://github.com/haysberg/azurwiki/tree/main/docs/docs/50-deploiement/02-minecraft.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"D\xe9ployer un serveur Minecraft",sidebar_label:"Serveur Minecraft",pagination_label:"D\xe9ployer un serveur Minecraft",description:"Comment d\xe9ployer un serveur Minecraft avec Docker pour jouer avec ses potes ?",keywords:["docs"]},sidebar:"tutorialSidebar",previous:{title:"Remplacer Netflix",permalink:"/azurwiki/deploiement/netflix"},next:{title:"D\xe9ployer un serveur Nextcloud",permalink:"/azurwiki/deploiement/nextcloud"}},u={},l=[],c={toc:l},p="wrapper";function m(e){let{components:r,...a}=e;return(0,o.kt)(p,(0,n.Z)({},c,a,{components:r,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Faire un serveur Minecraft pour jouer avec ses amis, \xe7a doit probablement \xeatre l'une des choses les plus faites dans les heures qui suivent l'installation d'un serveur. La bonne nouvelle, c'est que c'est tr\xe8s facile \xe0 faire."),(0,o.kt)("p",null,"Comme pr\xe9requis vous aurez notamment besoin d'aller voir les pages d\xe9di\xe9es \xe0 la ",(0,o.kt)("a",{parentName:"p",href:"/azurwiki/selfhost/docker"},"gestion des containers Docker"),"."),(0,o.kt)("p",null,"Nous allons utiliser l'image Docker ",(0,o.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/marctv/minecraft-papermc-server"},"marctv/minecraft-papermc-server")," qui contient le serveur Minecraft Paper. L'avantage de Paper, c'est qu'il est ultra optimis\xe9 et qu'il permettra donc de faire tourner le container sur quasiment tout, m\xeame un Raspberry Pi."),(0,o.kt)("p",null,"Voici le fichier ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose")," que l'on va utiliser pour d\xe9ployer le serveur."),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Pensez \xe0 utiliser un tag correspondant \xe0 une version !\nSi vous ne le faites pas, votre serveur sera automatiquement mis \xe0 jour vers la version suivante.\nPour \xe9viter les risques de corruption de votre monde, faites un backup ",(0,o.kt)("strong",{parentName:"p"},"puis")," changez la version de votre serveur.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml"},"---\nversion: \"3\"\nservices:\n  serveur-mc:\n    # Changez le tag de l'image pour la version que vous voulez\n    image: marctv/minecraft-papermc-server:1.20\n\n    container_name: serveur-mc\n\n    # stdin_open et tty pour permettront d'administrer votre\n    # serveur via la console interactive, sans n\xe9cessiter que\n    # vous vous connectiez au jeu pour faire des commandes\n    stdin_open: true\n    tty: true\n\n    # Les fichiers server.properties et tous les autres seront dans ce dossier\n    volumes:\n      - /chemin/vers/fichiers:/data \n\n    # Remplacer xxxxx par le port sur lequel le serveur \xe9coutra\n    ports:\n      - xxxxx:25565 \n\n    # Pour \xeatre s\xfbr que le serveur red\xe9marre automatiquement\n    # en cas de crash ou de reboot de la machine  \n    restart: unless-stopped\n")),(0,o.kt)("admonition",{type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"Si vous ne montez pas de volume pour votre serveur, vous perdrez l'int\xe9gralit\xe9 des donn\xe9es du serveur (y compris votre sauvegarde) !\nPensez \xe0 bien monter le dossier.")),(0,o.kt)("p",null,"Une fois le serveur d\xe9ploy\xe9 une premi\xe8re fois, les diff\xe9rentes options nous permettent de voir la console Minecraft depuis Portainer :"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Console Minecraft depuis Portainer",src:t(2385).Z,width:"853",height:"751"})),(0,o.kt)("p",null,'On peut aussi y voir les logs du serveur en temps r\xe9el via l\'onglet "Logs" de son container :'),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Logs du serveur Minecraft depuis Portainer",src:t(8840).Z,width:"1257",height:"472"})),(0,o.kt)("p",null,"Et voil\xe0 ! Pour configurer le reste du serveur, vous n'avez qu'\xe0 \xe9diter le fichier ",(0,o.kt)("inlineCode",{parentName:"p"},"server.properties")," dans le dossier o\xf9 vous avez mont\xe9 vos donn\xe9es !"))}m.isMDXComponent=!0},2385:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/mc_console-ce0a4b405a0931cb880f0b889db96767.png"},8840:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/mc_logs-657ca8195b2436c589807d895a75250e.png"}}]);